webpackJsonp([3],{11:function(module,exports){eval('"use strict";\n\nObject.defineProperty(exports, "__esModule", {\n\tvalue: true\n});\nvar Footer = function Footer() {\n\treturn React.createElement(\n\t\t"div",\n\t\t{ className: "container" },\n\t\tReact.createElement("hr", null),\n\t\tReact.createElement(\n\t\t\t"footer",\n\t\t\tnull,\n\t\t\tReact.createElement(\n\t\t\t\t"p",\n\t\t\t\t{\n\t\t\t\t\tstyle: { "font-size": "14px" }\n\t\t\t\t},\n\t\t\t\t"\\xA9 ",\n\t\t\t\tReact.createElement("br", null),\n\t\t\t\tReact.createElement("iframe", {\n\t\t\t\t\tsrc: "https://ghbtns.com/github-btn.html?user=elevenbeans&type=follow&count=true",\n\t\t\t\t\tframeborder: "0",\n\t\t\t\t\tscrolling: "0",\n\t\t\t\t\twidth: "170px",\n\t\t\t\t\theight: "20px",\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\t"border": "0"\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t)\n\t\t)\n\t);\n};\n\nexports.default = Footer;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9jbGllbnQvY29tcG9uZW50cy9mb290ZXIuanN4PzlhZGYiXSwibmFtZXMiOlsiRm9vdGVyIl0sIm1hcHBpbmdzIjoiOzs7OztBQUFBLElBQU1BLFNBQVMsU0FBVEEsTUFBUztBQUFBLFFBQ2Q7QUFBQTtBQUFBLElBQUssV0FBWSxXQUFqQjtBQUNFLGlDQURGO0FBRUU7QUFBQTtBQUFBO0FBQ0s7QUFBQTtBQUFBO0FBQ0MsWUFBUyxFQUFDLGFBQVksTUFBYjtBQURWO0FBQUE7QUFHRyxtQ0FISDtBQUlIO0FBQ0MsVUFBSSw0RUFETDtBQUVDLGtCQUFZLEdBRmI7QUFHQyxnQkFBVSxHQUhYO0FBSUMsWUFBTSxPQUpQO0FBS0MsYUFBTyxNQUxSO0FBTUMsWUFBTztBQUNOLGdCQUFTO0FBREg7QUFOUjtBQUpHO0FBREw7QUFGRixFQURjO0FBQUEsQ0FBZjs7a0JBd0JlQSxNIiwiZmlsZSI6IjExLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgRm9vdGVyID0gKCkgPT4gKFxuXHQ8ZGl2IGNsYXNzTmFtZSA9IFwiY29udGFpbmVyXCIgPlxuXHRcdFx0PGhyIC8+XG5cdFx0XHQ8Zm9vdGVyPlxuICAgICAgICA8cFxuICAgICAgICBcdHN0eWxlID0ge3tcImZvbnQtc2l6ZVwiOlwiMTRweFwifX1cbiAgICAgICAgPlxuICAgICAgICBcdMKpIDxiciAvPlxuXHRcdFx0XHRcdDxpZnJhbWVcblx0XHRcdFx0XHRcdHNyYz1cImh0dHBzOi8vZ2hidG5zLmNvbS9naXRodWItYnRuLmh0bWw/dXNlcj1lbGV2ZW5iZWFucyZ0eXBlPWZvbGxvdyZjb3VudD10cnVlXCJcblx0XHRcdFx0XHRcdGZyYW1lYm9yZGVyPVwiMFwiXG5cdFx0XHRcdFx0XHRzY3JvbGxpbmc9XCIwXCJcblx0XHRcdFx0XHRcdHdpZHRoPVwiMTcwcHhcIlxuXHRcdFx0XHRcdFx0aGVpZ2h0PVwiMjBweFwiXG5cdFx0XHRcdFx0XHRzdHlsZT17e1xuXHRcdFx0XHRcdFx0XHRcImJvcmRlclwiOlwiMFwiXG5cdFx0XHRcdFx0XHR9fVxuXHRcdFx0XHRcdD5cblx0XHRcdFx0XHQ8L2lmcmFtZT5cblx0XHQgIFx0PC9wPlxuICAgICAgPC9mb290ZXI+XG4gIDwvZGl2PlxuKVxuXG5leHBvcnQgZGVmYXVsdCBGb290ZXJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2NsaWVudC9jb21wb25lbnRzL2Zvb3Rlci5qc3giXSwic291cmNlUm9vdCI6IiJ9')},39:function(module,exports){eval('"use strict";\n\nObject.defineProperty(exports, "__esModule", {\n\tvalue: true\n});\nvar Spning = function Spning() {\n\treturn React.createElement(\n\t\t"div",\n\t\t{\n\t\t\tclassName: "uil-spin-css",\n\t\t\tstyle: { "-webkit-transform": "scale(0.1)" }\n\t\t},\n\t\tReact.createElement(\n\t\t\t"div",\n\t\t\tnull,\n\t\t\tReact.createElement("div", null)\n\t\t),\n\t\tReact.createElement(\n\t\t\t"div",\n\t\t\tnull,\n\t\t\tReact.createElement("div", null)\n\t\t),\n\t\tReact.createElement(\n\t\t\t"div",\n\t\t\tnull,\n\t\t\tReact.createElement("div", null)\n\t\t),\n\t\tReact.createElement(\n\t\t\t"div",\n\t\t\tnull,\n\t\t\tReact.createElement("div", null)\n\t\t),\n\t\tReact.createElement(\n\t\t\t"div",\n\t\t\tnull,\n\t\t\tReact.createElement("div", null)\n\t\t),\n\t\tReact.createElement(\n\t\t\t"div",\n\t\t\tnull,\n\t\t\tReact.createElement("div", null)\n\t\t),\n\t\tReact.createElement(\n\t\t\t"div",\n\t\t\tnull,\n\t\t\tReact.createElement("div", null)\n\t\t),\n\t\tReact.createElement(\n\t\t\t"div",\n\t\t\tnull,\n\t\t\tReact.createElement("div", null)\n\t\t)\n\t);\n};\n\nexports.default = Spning;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9jbGllbnQvY29tcG9uZW50cy9zcG5pbmcuanN4P2QwMDQiXSwibmFtZXMiOlsiU3BuaW5nIl0sIm1hcHBpbmdzIjoiOzs7OztBQUFBLElBQU1BLFNBQVMsU0FBVEEsTUFBUztBQUFBLFFBQ2Q7QUFBQTtBQUFBO0FBQ0MsY0FBVSxjQURYO0FBRUMsVUFBTyxFQUFDLHFCQUFvQixZQUFyQjtBQUZSO0FBSUM7QUFBQTtBQUFBO0FBQ0M7QUFERCxHQUpEO0FBT0M7QUFBQTtBQUFBO0FBQ0M7QUFERCxHQVBEO0FBVUM7QUFBQTtBQUFBO0FBQ0M7QUFERCxHQVZEO0FBYUM7QUFBQTtBQUFBO0FBQ0M7QUFERCxHQWJEO0FBZ0JDO0FBQUE7QUFBQTtBQUNDO0FBREQsR0FoQkQ7QUFtQkM7QUFBQTtBQUFBO0FBQ0M7QUFERCxHQW5CRDtBQXNCQztBQUFBO0FBQUE7QUFDQztBQURELEdBdEJEO0FBeUJDO0FBQUE7QUFBQTtBQUNDO0FBREQ7QUF6QkQsRUFEYztBQUFBLENBQWY7O2tCQWdDZUEsTSIsImZpbGUiOiIzOS5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IFNwbmluZyA9ICgpID0+IChcblx0PGRpdlxuXHRcdGNsYXNzTmFtZT0ndWlsLXNwaW4tY3NzJ1xuXHRcdHN0eWxlPXt7XCItd2Via2l0LXRyYW5zZm9ybVwiOlwic2NhbGUoMC4xKVwifX1cblx0PlxuXHRcdDxkaXY+XG5cdFx0XHQ8ZGl2PjwvZGl2PlxuXHRcdDwvZGl2PlxuXHRcdDxkaXY+XG5cdFx0XHQ8ZGl2PjwvZGl2PlxuXHRcdDwvZGl2PlxuXHRcdDxkaXY+XG5cdFx0XHQ8ZGl2PjwvZGl2PlxuXHRcdDwvZGl2PlxuXHRcdDxkaXY+XG5cdFx0XHQ8ZGl2PjwvZGl2PlxuXHRcdDwvZGl2PlxuXHRcdDxkaXY+XG5cdFx0XHQ8ZGl2PjwvZGl2PlxuXHRcdDwvZGl2PlxuXHRcdDxkaXY+XG5cdFx0XHQ8ZGl2PjwvZGl2PlxuXHRcdDwvZGl2PlxuXHRcdDxkaXY+XG5cdFx0XHQ8ZGl2PjwvZGl2PlxuXHRcdDwvZGl2PlxuXHRcdDxkaXY+XG5cdFx0XHQ8ZGl2PjwvZGl2PlxuXHRcdDwvZGl2PlxuXHQ8L2Rpdj5cbilcblxuZXhwb3J0IGRlZmF1bHQgU3BuaW5nO1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2NsaWVudC9jb21wb25lbnRzL3NwbmluZy5qc3giXSwic291cmNlUm9vdCI6IiJ9')},104:function(module,exports,__webpack_require__){eval("'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactRouter = __webpack_require__(16);\n\nvar _spning = __webpack_require__(39);\n\nvar _spning2 = _interopRequireDefault(_spning);\n\nvar _footer = __webpack_require__(11);\n\nvar _footer2 = _interopRequireDefault(_footer);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar New = function (_Component) {\n  _inherits(New, _Component);\n\n  function New(props) {\n    _classCallCheck(this, New);\n\n    var _this = _possibleConstructorReturn(this, (New.__proto__ || Object.getPrototypeOf(New)).call(this, props));\n\n    _this.state = {\n      options: [],\n      isSubmitting: false\n    };\n    return _this;\n  }\n\n  _createClass(New, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      $('#globalTransition').hide();\n      if (!userInfo.name) {\n        // 不支持未登陆 landing, 滚去首页!\n        location.href = location.origin;\n      }\n    }\n  }, {\n    key: 'addOptions',\n    value: function addOptions(e) {\n      var _temp = this.state.options;\n\n      if (!$('#poll-option').val()) return;\n\n      _temp.push({\n        'option': $('#poll-option').val(),\n        'count': 0,\n        'index': this.state.options.length\n      });\n\n      this.setState({\n        'options': _temp\n      });\n      $('#poll-option').val('');\n    }\n  }, {\n    key: 'deleteOptions',\n    value: function deleteOptions(e) {\n      var _index = $(e.target).attr('data-index');\n      var _temp = this.state.options;\n      _temp = _temp.filter(function (item, index) {\n        return index !== ~~_index;\n      });\n\n      _temp.map(function (item, index) {\n        item.index = index;\n      });\n\n      this.setState({\n        'options': _temp\n      });\n    }\n  }, {\n    key: 'submitPollData',\n    value: function submitPollData() {\n      if (this.state.options.length < 2) {\n        alert('At least two options');\n        return;\n      }\n      if (!$('#poll-title').val()) {\n        alert('Input your poll title!');\n        return;\n      }\n      if (!$('#poll-description').val()) {\n        alert('Input your poll description!');\n        return;\n      }\n      var _request = {\n        'title': $('#poll-title').val() || 'Default title',\n        'description': $('#poll-description').val() || 'Default description',\n        'options': this.state.options,\n        'ownerName': userInfo.name,\n        'voterList': []\n      };\n      this.setState({\n        'isSubmitting': true\n      });\n      $.ajax({\n        type: \"POST\",\n        url: '/api/insertPoll',\n        async: true,\n        contentType: \"application/json;charset=utf-8\",\n        data: JSON.stringify(_request),\n        dataType: 'json',\n        success: function (data) {\n          if (data && data.result) {\n            console.log(this.props);\n            _reactRouter.browserHistory.push('/list/' + userInfo.name);\n            this.setState({\n              'isSubmitting': false\n            });\n          }\n        }.bind(this)\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      return _react2.default.createElement(\n        'div',\n        { className: 'newpage' },\n        _react2.default.createElement(\n          'h2',\n          { className: 'left' },\n          'Create a new poll.'\n        ),\n        _react2.default.createElement(\n          'span',\n          {\n            className: 'input-group-addon',\n            style: { \"text-align\": \"left\" }\n          },\n          'Poll title:'\n        ),\n        _react2.default.createElement(\n          'div',\n          {\n            className: 'input-group',\n            style: { \"width\": \"100%\" }\n          },\n          _react2.default.createElement('input', {\n            type: 'text',\n            name: 'title',\n            id: 'poll-title',\n            className: 'form-control',\n            placeholder: 'Please input a title here ...',\n            'aria-describedby': 'sizing-addon2'\n          })\n        ),\n        ' ',\n        _react2.default.createElement('br', null),\n        _react2.default.createElement(\n          'span',\n          {\n            className: 'input-group-addon',\n            style: { \"text-align\": \"left\" }\n          },\n          'Description:'\n        ),\n        _react2.default.createElement(\n          'div',\n          {\n            className: 'input-group',\n            style: { \"width\": \"100%\" }\n          },\n          _react2.default.createElement('textarea', {\n            type: 'text',\n            rows: '3',\n            name: 'description',\n            id: 'poll-description',\n            className: 'form-control',\n            placeholder: 'Descripte your polls ...',\n            'aria-describedby': 'sizing-addon2'\n          })\n        ),\n        ' ',\n        _react2.default.createElement('br', null),\n        _react2.default.createElement(\n          'span',\n          {\n            className: 'input-group-addon',\n            style: { \"text-align\": \"left\" }\n          },\n          'Options:'\n        ),\n        _react2.default.createElement(\n          'ul',\n          {\n            className: 'list-group',\n            style: { \"line-height\": \"34px\" }\n          },\n          this.state.options.map(function (item, index) {\n            return _react2.default.createElement(\n              'li',\n              {\n                className: 'list-group-item'\n              },\n              _react2.default.createElement(\n                'div',\n                { className: 'input-group' },\n                item.option,\n                _react2.default.createElement(\n                  'span',\n                  { className: 'input-group-btn' },\n                  _react2.default.createElement(\n                    'button',\n                    {\n                      className: 'btn btn-danger',\n                      type: 'button',\n                      onClick: _this2.deleteOptions.bind(_this2),\n                      'data-index': index\n                    },\n                    'Delete'\n                  )\n                )\n              )\n            );\n          }),\n          this.state.options.length === 0 ? _react2.default.createElement(\n            'li',\n            { className: 'list-group-item' },\n            'To be added ...'\n          ) : ''\n        ),\n        _react2.default.createElement(\n          'div',\n          { className: 'row' },\n          _react2.default.createElement(\n            'div',\n            { className: 'col-lg-12' },\n            _react2.default.createElement(\n              'div',\n              { className: 'input-group' },\n              _react2.default.createElement('input', {\n                type: 'text',\n                className: 'form-control',\n                id: 'poll-option',\n                placeholder: 'Write your options and click the add button...',\n                name: 'option'\n              }),\n              _react2.default.createElement(\n                'span',\n                { className: 'input-group-btn' },\n                _react2.default.createElement(\n                  'button',\n                  {\n                    className: 'btn btn-default',\n                    type: 'button',\n                    onClick: this.addOptions.bind(this)\n                  },\n                  'Add'\n                )\n              )\n            )\n          )\n        ),\n        _react2.default.createElement('hr', null),\n        _react2.default.createElement(\n          'button',\n          {\n            className: 'btn btn-primary',\n            onClick: this.submitPollData.bind(this)\n          },\n          this.state.isSubmitting ? _react2.default.createElement(_spning2.default, null) : 'Submit'\n        ),\n        _react2.default.createElement(_footer2.default, null)\n      );\n    }\n  }]);\n\n  return New;\n}(_react.Component);\n\nexports.default = New;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9jbGllbnQvbmV3LmpzeD9jYTVjIl0sIm5hbWVzIjpbIk5ldyIsInByb3BzIiwic3RhdGUiLCJvcHRpb25zIiwiaXNTdWJtaXR0aW5nIiwiJCIsImhpZGUiLCJ1c2VySW5mbyIsIm5hbWUiLCJsb2NhdGlvbiIsImhyZWYiLCJvcmlnaW4iLCJlIiwiX3RlbXAiLCJ2YWwiLCJwdXNoIiwibGVuZ3RoIiwic2V0U3RhdGUiLCJfaW5kZXgiLCJ0YXJnZXQiLCJhdHRyIiwiZmlsdGVyIiwiaXRlbSIsImluZGV4IiwibWFwIiwiYWxlcnQiLCJfcmVxdWVzdCIsImFqYXgiLCJ0eXBlIiwidXJsIiwiYXN5bmMiLCJjb250ZW50VHlwZSIsImRhdGEiLCJKU09OIiwic3RyaW5naWZ5IiwiZGF0YVR5cGUiLCJzdWNjZXNzIiwicmVzdWx0IiwiY29uc29sZSIsImxvZyIsImJpbmQiLCJvcHRpb24iLCJkZWxldGVPcHRpb25zIiwiYWRkT3B0aW9ucyIsInN1Ym1pdFBvbGxEYXRhIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7QUFFQTs7OztBQUVBOztBQUVBOzs7O0FBQ0E7Ozs7Ozs7Ozs7OztJQUVNQSxHOzs7QUFFTCxlQUFZQyxLQUFaLEVBQW1CO0FBQUE7O0FBQUEsMEdBQ1ZBLEtBRFU7O0FBRWhCLFVBQUtDLEtBQUwsR0FBYTtBQUNYQyxlQUFTLEVBREU7QUFFWEMsb0JBQWM7QUFGSCxLQUFiO0FBRmdCO0FBTWpCOzs7O3dDQUNtQjtBQUNsQkMsUUFBRSxtQkFBRixFQUF1QkMsSUFBdkI7QUFDQSxVQUFHLENBQUNDLFNBQVNDLElBQWIsRUFBa0I7QUFDaEI7QUFDQUMsaUJBQVNDLElBQVQsR0FBZ0JELFNBQVNFLE1BQXpCO0FBQ0Q7QUFDRjs7OytCQUNVQyxDLEVBQUU7QUFDWCxVQUFJQyxRQUFRLEtBQUtYLEtBQUwsQ0FBV0MsT0FBdkI7O0FBRUEsVUFBRyxDQUFDRSxFQUFFLGNBQUYsRUFBa0JTLEdBQWxCLEVBQUosRUFBNkI7O0FBRTdCRCxZ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cUY7QUF6QnhGLFNBaERMO0FBMkVLO0FBQUE7QUFBQSxZQUFLLFdBQVUsS0FBZjtBQUNFO0FBQUE7QUFBQSxjQUFLLFdBQVUsV0FBZjtBQUNFO0FBQUE7QUFBQSxnQkFBSyxXQUFVLGFBQWY7QUFDRTtBQUNFLHNCQUFPLE1BRFQ7QUFFRSwyQkFBVSxjQUZaO0FBR0Usb0JBQUssYUFIUDtBQUlFLDZCQUFZLGdEQUpkO0FBS0Usc0JBQU87QUFMVCxnQkFERjtBQVFFO0FBQUE7QUFBQSxrQkFBTSxXQUFVLGlCQUFoQjtBQUNFO0FBQUE7QUFBQTtBQUNFLCtCQUFVLGlCQURaO0FBRUUsMEJBQUssUUFGUDtBQUdFLDZCQUFTLEtBQUsyQixVQUFMLENBQWdCSCxJQUFoQixDQUFxQixJQUFyQjtBQUhYO0FBQUE7QUFBQTtBQURGO0FBUkY7QUFERjtBQURGLFNBM0VMO0FBZ0dXLGlEQWhHWDtBQWlHQztBQUFBO0FBQUE7QUFDTSx1QkFBVSxpQkFEaEI7QUFFTSxxQkFBUyxLQUFLSSxjQUFMLENBQW9CSixJQUFwQixDQUF5QixJQUF6QjtBQUZmO0FBSU8sZUFBS3RDLEtBQUwsQ0FBV0UsWUFBWCxHQUF3QixxREFBeEIsR0FBbUM7QUFKMUMsU0FqR0Q7QUF1R0s7QUF2R0wsT0FEQztBQTJHRDs7Ozs7O2tCQUdZSixHIiwiZmlsZSI6IjEwNC5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0J1xuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgYnJvd3Nlckhpc3RvcnkgfSBmcm9tICdyZWFjdC1yb3V0ZXInO1xuXG5pbXBvcnQgU3BuaW5nIGZyb20gJy4vY29tcG9uZW50cy9zcG5pbmcnO1xuaW1wb3J0IEZvb3RlciBmcm9tICcuL2NvbXBvbmVudHMvZm9vdGVyJztcblxuY2xhc3MgTmV3IGV4dGVuZHMgQ29tcG9uZW50IHtcblxuXHRjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgb3B0aW9uczogW10sXG4gICAgICBpc1N1Ym1pdHRpbmc6IGZhbHNlXG4gICAgfVxuICB9XG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICQoJyNnbG9iYWxUcmFuc2l0aW9uJykuaGlkZSgpO1xuICAgIGlmKCF1c2VySW5mby5uYW1lKXtcbiAgICAgIC8vIOS4jeaUr+aMgeacqueZu+mZhiBsYW5kaW5nLCDmu5rljrvpppbpobUhXG4gICAgICBsb2NhdGlvbi5ocmVmID0gbG9jYXRpb24ub3JpZ2luO1xuICAgIH1cbiAgfVxuICBhZGRPcHRpb25zKGUpe1xuICAgIHZhciBfdGVtcCA9IHRoaXMuc3RhdGUub3B0aW9ucztcblxuICAgIGlmKCEkKCcjcG9sbC1vcHRpb24nKS52YWwoKSkgcmV0dXJuXG4gICAgXG4gICAgX3RlbXAucHVzaCh7XG4gICAgICAnb3B0aW9uJzogJCgnI3BvbGwtb3B0aW9uJykudmFsKCksXG4gICAgICAnY291bnQnOiAwLFxuICAgICAgJ2luZGV4JzogdGhpcy5zdGF0ZS5vcHRpb25zLmxlbmd0aFxuICAgIH0pO1xuXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAnb3B0aW9ucyc6IF90ZW1wXG4gICAgfSk7XG4gICAgJCgnI3BvbGwtb3B0aW9uJykudmFsKCcnKTtcbiAgfVxuICBkZWxldGVPcHRpb25zKGUpe1xuICAgIHZhciBfaW5kZXggPSAkKGUudGFyZ2V0KS5hdHRyKCdkYXRhLWluZGV4Jyk7XG4gICAgdmFyIF90ZW1wID0gdGhpcy5zdGF0ZS5vcHRpb25zO1xuICAgIF90ZW1wID0gX3RlbXAuZmlsdGVyKGZ1bmN0aW9uKGl0ZW0sIGluZGV4KXtcbiAgICAgIHJldHVybiBpbmRleCAhPT0gfn5faW5kZXg7XG4gICAgfSk7XG5cblxuICAgIF90ZW1wLm1hcChmdW5jdGlvbihpdGVtLCBpbmRleCl7XG4gICAgICBpdGVtLmluZGV4ID0gaW5kZXg7XG4gICAgfSk7XG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICdvcHRpb25zJzogX3RlbXBcbiAgICB9KTtcblxuICB9XG4gIHN1Ym1pdFBvbGxEYXRhKCl7XG4gICAgaWYodGhpcy5zdGF0ZS5vcHRpb25zLmxlbmd0aCA8IDIgKXtcbiAgICAgIGFsZXJ0KCdBdCBsZWFzdCB0d28gb3B0aW9ucycpO1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGlmKCEkKCcjcG9sbC10aXRsZScpLnZhbCgpKXtcbiAgICAgIGFsZXJ0KCdJbnB1dCB5b3VyIHBvbGwgdGl0bGUhJyk7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgaWYoISQoJyNwb2xsLWRlc2NyaXB0aW9uJykudmFsKCkpe1xuICAgICAgYWxlcnQoJ0lucHV0IHlvdXIgcG9sbCBkZXNjcmlwdGlvbiEnKTtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICB2YXIgX3JlcXVlc3QgPSB7XG4gICAgICAndGl0bGUnOiAkKCcjcG9sbC10aXRsZScpLnZhbCgpIHx8ICdEZWZhdWx0IHRpdGxlJyxcbiAgICAgICdkZXNjcmlwdGlvbic6ICQoJyNwb2xsLWRlc2NyaXB0aW9uJykudmFsKCkgfHwgJ0RlZmF1bHQgZGVzY3JpcHRpb24nLFxuICAgICAgJ29wdGlvbnMnOiB0aGlzLnN0YXRlLm9wdGlvbnMsXG4gICAgICAnb3duZXJOYW1lJzogdXNlckluZm8ubmFtZSxcbiAgICAgICd2b3Rlckxpc3QnOiBbXVxuICAgIH1cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICdpc1N1Ym1pdHRpbmcnOiB0cnVlXG4gICAgfSk7XG4gICAgJC5hamF4KHtcbiAgICAgIHR5cGU6IFwiUE9TVFwiLFxuICAgICAgdXJsOiAnL2FwaS9pbnNlcnRQb2xsJyxcbiAgICAgIGFzeW5jOiB0cnVlLFxuICAgICAgY29udGVudFR5cGU6IFwiYXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04XCIsXG4gICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShfcmVxdWVzdCksXG4gICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgaWYoZGF0YSAmJiBkYXRhLnJlc3VsdCkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMucHJvcHMpO1xuICAgICAgICAgIGJyb3dzZXJIaXN0b3J5LnB1c2goJy9saXN0LycgKyB1c2VySW5mby5uYW1lKTtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICdpc1N1Ym1pdHRpbmcnOiBmYWxzZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LmJpbmQodGhpcylcbiAgICB9KTtcbiAgfVxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcblx0XHRcdDxkaXYgY2xhc3NOYW1lID0gXCJuZXdwYWdlXCI+XG4gICAgICAgIDxoMiBjbGFzc05hbWUgPSBcImxlZnRcIj5DcmVhdGUgYSBuZXcgcG9sbC48L2gyPlxuICAgICAgICA8c3BhblxuICAgICAgICAgIGNsYXNzTmFtZT1cImlucHV0LWdyb3VwLWFkZG9uXCJcbiAgICAgICAgICBzdHlsZT17e1widGV4dC1hbGlnblwiOlwibGVmdFwifX1cbiAgICAgICAgPlxuICAgICAgICAgIFBvbGwgdGl0bGU6XG4gICAgICAgIDwvc3Bhbj4gXG4gICAgICAgIDxkaXZcbiAgICAgICAgICBjbGFzc05hbWU9XCJpbnB1dC1ncm91cFwiXG4gICAgICAgICAgc3R5bGU9e3tcIndpZHRoXCI6XCIxMDAlXCJ9fVxuICAgICAgICA+XG4gICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICBuYW1lPVwidGl0bGVcIlxuICAgICAgICAgICAgaWQ9XCJwb2xsLXRpdGxlXCJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBsZWFzZSBpbnB1dCBhIHRpdGxlIGhlcmUgLi4uXCJcbiAgICAgICAgICAgIGFyaWEtZGVzY3JpYmVkYnk9XCJzaXppbmctYWRkb24yXCJcbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj4gPGJyIC8+XG4gICAgICAgIDxzcGFuXG4gICAgICAgICAgY2xhc3NOYW1lPVwiaW5wdXQtZ3JvdXAtYWRkb25cIlxuICAgICAgICAgIHN0eWxlPXt7XCJ0ZXh0LWFsaWduXCI6XCJsZWZ0XCJ9fVxuICAgICAgICA+XG4gICAgICAgICAgRGVzY3JpcHRpb246XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPGRpdlxuICAgICAgICAgIGNsYXNzTmFtZT1cImlucHV0LWdyb3VwXCJcbiAgICAgICAgICBzdHlsZT17e1wid2lkdGhcIjpcIjEwMCVcIn19XG4gICAgICAgID5cbiAgICAgICAgICA8dGV4dGFyZWFcbiAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgIHJvd3M9XCIzXCJcbiAgICAgICAgICAgIG5hbWU9XCJkZXNjcmlwdGlvblwiXG4gICAgICAgICAgICBpZD1cInBvbGwtZGVzY3JpcHRpb25cIlxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiRGVzY3JpcHRlIHlvdXIgcG9sbHMgLi4uXCJcbiAgICAgICAgICAgIGFyaWEtZGVzY3JpYmVkYnk9XCJzaXppbmctYWRkb24yXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgPC90ZXh0YXJlYT5cbiAgICAgICAgPC9kaXY+IDxiciAvPlxuICAgICAgICA8c3BhblxuICAgICAgICAgIGNsYXNzTmFtZT1cImlucHV0LWdyb3VwLWFkZG9uXCJcbiAgICAgICAgICBzdHlsZT17e1widGV4dC1hbGlnblwiOlwibGVmdFwifX1cbiAgICAgICAgPlxuICAgICAgICAgIE9wdGlvbnM6XG4gICAgICAgIDwvc3Bhbj4gXG4gICAgICAgIDx1bFxuICAgICAgICAgIGNsYXNzTmFtZT1cImxpc3QtZ3JvdXBcIlxuICAgICAgICAgIHN0eWxlPXt7XCJsaW5lLWhlaWdodFwiOiBcIjM0cHhcIn19XG4gICAgICAgID5cbiAgICAgICAgICB7dGhpcy5zdGF0ZS5vcHRpb25zLm1hcChcbiAgICAgICAgICAgIChpdGVtLCBpbmRleCk9PihcbiAgICAgICAgICAgICAgPGxpXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibGlzdC1ncm91cC1pdGVtXCJcbiAgICAgICAgICAgICAgPiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5wdXQtZ3JvdXBcIj5cbiAgICAgICAgICAgICAgICAgIHtpdGVtLm9wdGlvbn1cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImlucHV0LWdyb3VwLWJ0blwiPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuIGJ0bi1kYW5nZXJcIlxuICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuZGVsZXRlT3B0aW9ucy5iaW5kKHRoaXMpfVxuICAgICAgICAgICAgICAgICAgICAgIGRhdGEtaW5kZXg9e2luZGV4fVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgRGVsZXRlXG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgKVxuICAgICAgICAgICl9XG4gICAgICAgICAge3RoaXMuc3RhdGUub3B0aW9ucy5sZW5ndGggPT09IDA/PGxpIGNsYXNzTmFtZT1cImxpc3QtZ3JvdXAtaXRlbVwiPlRvIGJlIGFkZGVkIC4uLjwvbGk+OicnfVxuICAgICAgICA8L3VsPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLWxnLTEyXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImlucHV0LWdyb3VwXCI+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIHR5cGUgPSBcInRleHRcIlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgaWQgPSBcInBvbGwtb3B0aW9uXCJcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIldyaXRlIHlvdXIgb3B0aW9ucyBhbmQgY2xpY2sgdGhlIGFkZCBidXR0b24uLi5cIlxuICAgICAgICAgICAgICAgIG5hbWUgPSBcIm9wdGlvblwiXG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImlucHV0LWdyb3VwLWJ0blwiPlxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0biBidG4tZGVmYXVsdFwiXG4gICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuYWRkT3B0aW9ucy5iaW5kKHRoaXMpfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIEFkZFxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+PGhyIC8+XG5cdFx0XHRcdDxidXR0b25cbiAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLXByaW1hcnlcIlxuICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuc3VibWl0UG9sbERhdGEuYmluZCh0aGlzKX1cbiAgICAgICAgPlxuICAgICAgICAgIHt0aGlzLnN0YXRlLmlzU3VibWl0dGluZz88U3BuaW5nIC8+OidTdWJtaXQnfVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPEZvb3RlciAvPlxuXHRcdFx0PC9kaXY+XG4gICAgKTtcbiAgfVxuXG59IFxuZXhwb3J0IGRlZmF1bHQgTmV3O1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL2NsaWVudC9uZXcuanN4Il0sInNvdXJjZVJvb3QiOiIifQ==")}});